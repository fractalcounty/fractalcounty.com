---
import { Icon } from 'astro-icon/components';
import ImageCard from '@components/ImageCard.astro';

interface Props {
  name?: string;
  handle?: string;
  pfp?: string;
  text?: string;
  hashtags?: string;
  retweets?: string;
  replies?: string;
  likes?: string;
  source?: string;
}

const {
  name = 'chip',
  handle = 'chippledipple',
  pfp = '/src/content/projects/smpearth/chip-pfp.webp',
  text = "God I'm awesome.",
  retweets = '100k',
  replies = '50k',
  likes = '300k',
  source = 'https://twitter.com'
} = Astro.props;
---

<div class="twitter-mockup bg-accent-content outline outline-slate-700 shadow-lg text-base-content rounded-lg p-6 mx-16 my-auto">
  <div class="header flex justify-between items-center mb-3 gap-1">
    <div class="profile flex items-center">
      <div class="avatar size-12 rounded-full mr-[16px] overflow-hidden">
        <ImageCard
          imagePath={pfp}
          altText={`${name}'s profile picture`}
          showShadow={false}
          rounded={false}
          showCaption={false}
          class="w-full h-full"
          imageClass="w-full h-full object-cover"
        />
      </div>
      <div class="user-info flex flex-col justify-center">
        <div class="flex items-center">
          <span class="username font-bold mr-[4px]">{name}</span>
          <span class="handle text-secondary-content">@{handle}</span>
        </div>
      </div>
    </div>
    <a href={ source } class="menu btn btn-square btn-sm btn-ghost tooltip flex items-center justify-center" data-tip="View original source">
      <Icon name="solar:link-bold" class="size-4"/>
    </a>
  </div>
  <p class="tweet-text text-[1.1em]">{text}</p>
  <div class="stats text-secondary-content flex justify-between items-center mt-4">
    <button class="stat-item">
      <Icon name="solar:chat-square-linear" />
      <span class="text-sm">{replies}</span>
    </button>
    <button class="stat-item">
      <Icon name="solar:repeat-bold" />
      <span class="text-sm">{retweets}</span>
    </button>
    <button class="stat-item">
      <Icon name="solar:heart-linear" />
      <span class="text-sm">{likes}</span>
    </button>
    <button class="stat-item">
      <Icon name="solar:chart-2-bold" />
    </button>
  </div>
</div>

<style>
  .avatar {
    position: relative;
    width: 3rem;  /* size-12 equivalent */
    height: 3rem; /* size-12 equivalent */
  }

  .avatar :global(img) {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .twitter-mockup {
    font-family: Inter, Helvetica, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  }


  .stats {
    background-color: oklch(var(--ac));
  }

  .stat-item {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    background: none;
    border: none;
    cursor: pointer;
    color: inherit;
    font: inherit;
    padding: 0;
    transition: color 0.2s ease;
  }

  .stat-item:hover {
    color: oklch(var(--p));
  }

  .stat-item :global(svg) {
    width: 1.25rem;
    height: 1.25rem;
    display: block;
  }
</style>