---
import Container from '@/components/layout/Container.astro'
import Link from '@/components/Link.astro'
import { SITE } from '@/consts'
---

<header
  role='banner'
  class='fixed left-0 right-0 top-0 z-50 bg-base-100/80 py-4 backdrop-blur-sm'
  transition:persist
>
  <a
    href='#main-content'
    class='hover:text-accent-focus sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:bg-neutral focus:px-4 focus:py-2 focus:text-base-content focus:outline-none focus:ring-2 focus:ring-base-content'
  >
    skip to main content
  </a>

  <Container as='section'>
    <div class='flex flex-wrap justify-between gap-y-2'>
      <Link
        href='/'
        title={`${SITE.NAME} - Return to homepage`}
        externalInNewTab={false}
        underline={false}
        class='text-lg font-black subpixel-antialiased'
        aria-label={`${SITE.NAME} - Return to homepage`}
      >
        <h1
          class='title preload-text font-bold uppercase subpixel-antialiased transition-all duration-150 hover:scale-105 hover:text-primary'
          style='font-family: AlteHaasGrotesk, sans-serif; font-display: swap;'
        >
          {SITE.NAME}
        </h1>
      </Link>
      <nav role='navigation' aria-label='Main navigation'>
        <ul class='m-0 flex list-none gap-1 p-0'>
          {
            [
              { href: '/blog', label: 'Blog', text: 'blog' },
              { href: '/art', label: 'Art', text: 'art' },
              { href: '/music', label: 'Music', text: 'music' },
              {
                href: 'https://links.fractalcounty.com/',
                label: 'Links',
                text: 'links',
                external: true,
              },
            ].map((item, index) => (
              <>
                <li>
                  <Link
                    href={item.href}
                    title={`View ${item.label.toLowerCase()}`}
                    externalInNewTab={item.external}
                    prefetch={true}
                    underline={true}
                    aria-current={
                      Astro.url.pathname === item.href ? 'page' : undefined
                    }
                  >
                    {item.text}
                  </Link>
                </li>
                {index < 3 && (
                  <li aria-hidden='true'>
                    <span>/</span>
                  </li>
                )}
              </>
            ))
          }
        </ul>
      </nav>
    </div>
  </Container>
</header>
