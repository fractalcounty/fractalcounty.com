---
import { generateCollectionSchema, organizationSchema, personSchema, websiteSchema } from '@/lib/schema'

interface Props {
  type: 'blog' | 'projects' | 'artwork'
  name: string
  description: string
}

const { type, name, description } = Astro.props
const pageUrl = new URL(Astro.url.pathname, Astro.site)

const schema = {
  '@context': 'https://schema.org',
  '@graph': [
    generateCollectionSchema(type, pageUrl, name, description),
    websiteSchema,
    organizationSchema,
    personSchema,
  ],
}
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
