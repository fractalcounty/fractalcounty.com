---
title: 'Relative image path error'
description: 'This post is at ./src/content/blog/relative-images-test/index.mdx'
date: 2024-10-06
icon: 'solar:camera-outline'
draft: false
images: ['./thumbnail.webp'] # does not throw error
---

import { Image } from 'astro:assets'
import ImageCard from '@/components/ImageCard.astro'

Let's say this post is located at `./src/content/blog/relative-images-test/index.mdx`, and the thumbnail is within the same directory as `./thumbnail.webp`.

Then, let's try to import the thumbnail in my ImageCard component using a relative path:

```astro
<ImageCard
  imagePath='./thumbnail.webp'
  altText='thumbnail for ./src/content/blog/relative-images-test/index.mdx'
/>
```

This throws an error:

```fish
21:13:19 [ERROR] [Error] "./thumbnail.webp" does not exist in glob: "src/content/blog/**/*.{jpeg,jpg,png,gif,webp}"
  Hint:
    This issue often occurs when your MDX component encounters runtime errors.
  Stack trace:
    at /Users/chip/Projects/site/src/components/ImageCard.astro:29:7
    [..etc]
```

Using the `Image` component from Astro with a relative path throws a similar error:

```astro
<Image
  src='thumbnail.webp'
  alt='thumbnail for ./src/content/blog/relative-images-test/index.mdx'
  width={300}
  height={300}
/>
```

```fish
21:23:22 [ERROR] [LocalImageUsedWrongly] `Image`'s and `getImage`'s `src` parameter must be an imported image or an URL, it cannot be a string filepath. Received `thumbnail.webp`.
  Hint:
    This issue often occurs when your MDX component encounters runtime errors.
  Error reference:
    https://docs.astro.build/en/reference/errors/local-image-used-wrongly/
```

If I try to use an absolute path with either component, it works just fine:

<ImageCard
  imagePath='/src/content/blog/relative-images-test/thumbnail.webp'
  altText='thumbnail for ./src/content/blog/relative-images-test/index.mdx'
/>

<Image
  src='/src/content/blog/relative-images-test/thumbnail.webp'
  alt='thumbnail for ./src/content/blog/relative-images-test/index.mdx'
  width={300}
  height={300}
/>
